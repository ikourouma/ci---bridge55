<!DOCTYPE html>
<html lang="en" data-country="pan-african">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transfer Details | Bridge55</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF6B35;
            --primary-dark: #e55a2b;
            --secondary: #1a1a2e;
            --success: #28a745;
            --text-dark: #212529;
            --text-muted: #6c757d;
            --border-color: #dee2e6;
            --card-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        /* Country Theme Variables */
        [data-country="kenya"], [data-country="ke"] { --primary: #BB0000; --primary-dark: #990000; }
        [data-country="ghana"], [data-country="gh"] { --primary: #EF3340; --primary-dark: #d62b37; }
        [data-country="nigeria"], [data-country="ng"] { --primary: #008751; --primary-dark: #006b41; }
        [data-country="south-africa"], [data-country="za"] { --primary: #007749; --primary-dark: #005c38; }
        [data-country="egypt"], [data-country="eg"] { --primary: #C8102E; --primary-dark: #a60d26; }
        [data-country="tanzania"], [data-country="tz"] { --primary: #1EB53A; --primary-dark: #169030; }
        [data-country="morocco"], [data-country="ma"] { --primary: #C1272D; --primary-dark: #a11f24; }
        [data-country="rwanda"], [data-country="rw"] { --primary: #00A1DE; --primary-dark: #0088bb; }
        [data-country="uganda"], [data-country="ug"] { --primary: #D4B800; --primary-dark: #b39b00; }
        [data-country="cote-divoire"], [data-country="ci"] { --primary: #FF8200; --primary-dark: #e67300; }
        [data-country="zambia"], [data-country="zm"] { --primary: #198754; --primary-dark: #146c43; }

        * { font-family: 'Inter', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #f5f5f5; padding-top: 70px; }

        /* TOP NAVIGATION */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 1.5rem;
        }
        .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .logo {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--primary);
            text-decoration: none;
        }
        .logo span { color: #212529; }
        .nav-btn {
            padding: 0.5rem 1rem;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            color: #212529;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
        }
        .nav-btn:hover { border-color: var(--primary); color: var(--primary); }

        /* BREADCRUMB */
        .breadcrumb-section {
            background: white;
            padding: 1rem 0;
            border-bottom: 1px solid #e9ecef;
        }
        .breadcrumb-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        .breadcrumb {
            margin: 0;
            padding: 0;
            background: transparent;
        }
        .breadcrumb-item a { color: var(--primary); text-decoration: none; }
        .breadcrumb-item.active { color: var(--text-muted); }

        /* MAIN CONTENT */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 1.5rem;
        }

        /* VEHICLE DETAILS CARD */
        .details-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            overflow: hidden;
            margin-bottom: 1.5rem;
        }
        .vehicle-gallery {
            position: relative;
            height: 350px;
            overflow: hidden;
        }
        .vehicle-gallery img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .gallery-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
        }
        .vehicle-info {
            padding: 1.5rem;
        }
        .vehicle-header {
            display: flex;
            align-items: start;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        .vehicle-name {
            font-size: 1.75rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
        }
        .provider-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        .provider-name {
            font-size: 1rem;
            color: var(--text-muted);
        }
        .provider-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .provider-badge.verified {
            background: #d4edda;
            color: #155724;
        }
        .provider-badge.premium {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            color: #856404;
        }
        .provider-badge.local {
            background: #e3f2fd;
            color: #1565c0;
        }
        .vehicle-rating {
            text-align: right;
        }
        .rating-score {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
        }
        .rating-stars { color: #ffc107; margin-bottom: 0.25rem; }
        .rating-count { font-size: 0.85rem; color: var(--text-muted); }

        /* VEHICLE SPECS */
        .vehicle-specs {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }
        .spec-item {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 10px;
        }
        .spec-item i {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .spec-item .value {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .spec-item .label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* FEATURES SECTION */
        .section-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .section-title i { color: var(--primary); }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .feature-item i {
            color: var(--success);
            font-size: 1rem;
        }
        .feature-item span { font-size: 0.9rem; }

        /* ROUTE INFO */
        .route-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .route-points {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .route-point {
            flex: 1;
        }
        .route-point .label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.25rem;
        }
        .route-point .value {
            font-size: 1rem;
            font-weight: 600;
        }
        .route-arrow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            color: var(--primary);
        }
        .route-arrow .duration {
            font-size: 0.8rem;
            font-weight: 600;
        }
        .route-meta {
            display: flex;
            gap: 1.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px dashed #dee2e6;
        }
        .route-meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        .route-meta-item i { color: var(--primary); }

        /* PROVIDER DETAILS */
        .provider-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .provider-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }
        .provider-logo {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        .provider-details h5 { font-weight: 700; margin-bottom: 0.25rem; }
        .provider-details p { font-size: 0.85rem; color: var(--text-muted); margin: 0; }
        .provider-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .stat-item {
            text-align: center;
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .stat-item .value { font-size: 1.25rem; font-weight: 700; color: var(--primary); }
        .stat-item .label { font-size: 0.75rem; color: var(--text-muted); }
        .provider-contact {
            display: flex;
            gap: 0.75rem;
        }
        .provider-contact .btn {
            flex: 1;
            padding: 0.6rem;
            font-weight: 600;
            font-size: 0.85rem;
        }

        /* SIDEBAR - Sticky container for both cards */
        .sidebar {
            position: sticky;
            top: 90px;
            max-height: calc(100vh - 110px);
            overflow-y: auto;
        }
        .booking-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            overflow: hidden;
        }
        .booking-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1.25rem;
        }
        .booking-header h4 {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .booking-header p {
            font-size: 0.85rem;
            opacity: 0.9;
            margin: 0;
        }
        .booking-body { padding: 1.5rem; }
        .booking-route {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        .booking-route i { color: var(--primary); }
        .booking-route-details { flex: 1; }
        .booking-route-details .from, .booking-route-details .to {
            font-size: 0.9rem;
            font-weight: 600;
        }
        .booking-route-details .arrow {
            color: var(--text-muted);
            font-size: 0.8rem;
            margin: 0.25rem 0;
        }
        .booking-datetime {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        .datetime-item {
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .datetime-item .label {
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-bottom: 0.25rem;
        }
        .datetime-item .value {
            font-size: 0.9rem;
            font-weight: 600;
        }
        .price-breakdown {
            border-top: 1px solid #e9ecef;
            padding-top: 1rem;
            margin-bottom: 1rem;
        }
        .price-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        .price-row.total {
            font-size: 1.1rem;
            font-weight: 700;
            padding-top: 0.75rem;
            margin-top: 0.75rem;
            border-top: 2px solid #e9ecef;
        }
        .price-row.total .amount { color: var(--primary); }
        .btn-book {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .btn-book:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,53,0.4);
        }
        .booking-note {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding: 0.75rem;
            background: #d4edda;
            border-radius: 8px;
            font-size: 0.8rem;
            color: #155724;
        }
        .booking-note i { color: #28a745; }

        /* EDITABLE FIELDS */
        .datetime-item.editable {
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        .datetime-item.editable:hover {
            background: #e9ecef;
        }
        .datetime-item.editable .edit-icon {
            font-size: 0.6rem;
            color: var(--primary);
            opacity: 0;
            transition: opacity 0.3s;
            margin-left: 0.25rem;
        }
        .datetime-item.editable:hover .edit-icon {
            opacity: 1;
        }
        .datetime-item.editable.editing {
            background: #e9ecef;
            padding: 0.5rem;
        }
        .edit-input {
            width: 100%;
            padding: 0.5rem;
            border: 2px solid var(--primary);
            border-radius: 6px;
            font-size: 0.85rem;
            margin-top: 0.25rem;
        }
        .qty-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 0.25rem;
        }
        .qty-btn {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .qty-btn:hover {
            background: var(--primary);
            color: white;
        }
        .qty-value {
            font-weight: 700;
            font-size: 1rem;
            min-width: 24px;
            text-align: center;
        }

        /* WHY CHOOSE CARD */
        .why-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }
        .why-item {
            display: flex;
            align-items: start;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        .why-item:last-child { margin-bottom: 0; }
        .why-item i {
            color: var(--primary);
            font-size: 1.25rem;
            margin-top: 0.1rem;
        }
        .why-item h6 { font-weight: 600; margin-bottom: 0.25rem; font-size: 0.9rem; }
        .why-item p { font-size: 0.8rem; color: var(--text-muted); margin: 0; }

        /* NEED HELP CARD */
        .help-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            padding: 1.5rem;
            margin-top: 1.5rem;
        }
        .help-provider {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }
        .help-provider-logo {
            width: 50px;
            height: 50px;
            background: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        .help-provider-info h6 { font-weight: 600; margin-bottom: 0.25rem; font-size: 0.9rem; }
        .help-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            background: #d4edda;
            color: #155724;
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
        }
        .help-contact { margin-bottom: 1rem; }
        .help-contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }
        .help-contact-item:last-child { margin-bottom: 0; }
        .help-contact-item i { color: var(--primary); width: 18px; }
        .help-buttons { display: flex; gap: 0.5rem; }
        .help-buttons .btn { flex: 1; font-weight: 600; font-size: 0.8rem; }
        
        /* Operator Contact List - Full Details */
        .operator-details-card { padding: 1.5rem; }
        .operator-contact-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-top: 1rem;
        }
        .operator-contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            background: #f8f9fa;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .operator-contact-item:hover { background: #e9ecef; }
        .operator-contact-item i {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
        }
        .operator-contact-item i.fa-whatsapp { background: linear-gradient(135deg, #25D366 0%, #1DA851 100%); }
        .operator-contact-item .contact-info { flex: 1; }
        .operator-contact-item .contact-label {
            display: block;
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.1rem;
        }
        .operator-contact-item .contact-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-dark);
            text-decoration: none;
        }
        .operator-contact-item .contact-value:hover { color: var(--primary); }

        /* RESPONSIVE */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            .sidebar {
                position: static;
                max-height: none;
                overflow-y: visible;
            }
            .vehicle-specs {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 576px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- TOP NAVIGATION -->
    <nav class="top-nav">
        <div class="nav-content">
            <a href="../bridge55-search-hub-FINAL.html" class="logo"><span>Bridge</span>55</a>
            <div style="display: flex; gap: 0.75rem;">
                <a href="../index.html" class="nav-btn">
                    <i class="fa fa-home"></i> Home
                </a>
            </div>
        </div>
    </nav>

    <!-- BREADCRUMB -->
    <div class="breadcrumb-section">
        <div class="breadcrumb-content">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="../bridge55-search-hub-FINAL.html">Home</a></li>
                    <li class="breadcrumb-item"><a href="search-results.html">Transfers</a></li>
                    <li class="breadcrumb-item active" id="breadcrumbVehicle">Comfort SUV</li>
                </ol>
            </nav>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
        <!-- LEFT COLUMN - DETAILS -->
        <div class="details-column">
            <!-- Vehicle Details Card -->
            <div class="details-card">
                <div class="vehicle-gallery">
                    <img id="vehicleImage" src="https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&h=400&fit=crop" alt="Vehicle">
                    <div class="gallery-badge" id="vehicleType">SUV</div>
                </div>
                <div class="vehicle-info">
                    <div class="vehicle-header">
                        <div>
                            <h1 class="vehicle-name" id="vehicleName">Comfort SUV</h1>
                            <div class="provider-info">
                                <span class="provider-name" id="providerName">Kenya Safari Transfers</span>
                                <span class="provider-badge premium" id="providerBadge"><i class="fas fa-star"></i> Premium Partner</span>
                            </div>
                        </div>
                        <div class="vehicle-rating">
                            <div class="rating-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="rating-score" id="ratingScore">4.9</div>
                            <div class="rating-count"><span id="reviewCount">456</span> reviews</div>
                        </div>
                    </div>

                    <!-- Vehicle Specs -->
                    <div class="vehicle-specs">
                        <div class="spec-item">
                            <i class="fas fa-users"></i>
                            <div class="value" id="maxPassengers">4</div>
                            <div class="label">Max Passengers</div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-suitcase"></i>
                            <div class="value" id="maxLuggage">4</div>
                            <div class="label">Max Luggage</div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-clock"></i>
                            <div class="value" id="duration">~35 min</div>
                            <div class="label">Est. Duration</div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-route"></i>
                            <div class="value" id="distance">25 km</div>
                            <div class="label">Distance</div>
                        </div>
                    </div>

                    <!-- Route Info -->
                    <div class="route-card">
                        <div class="route-points">
                            <div class="route-point">
                                <div class="label">Pickup</div>
                                <div class="value" id="routePickup">Jomo Kenyatta Airport (NBO)</div>
                            </div>
                            <div class="route-arrow">
                                <i class="fas fa-arrow-right fa-lg"></i>
                                <span class="duration" id="routeDuration">35 min</span>
                            </div>
                            <div class="route-point">
                                <div class="label">Drop-off</div>
                                <div class="value" id="routeDropoff">Nairobi CBD</div>
                            </div>
                        </div>
                        <div class="route-meta">
                            <div class="route-meta-item">
                                <i class="fas fa-calendar"></i>
                                <span id="routeDate">Dec 15, 2025</span>
                            </div>
                            <div class="route-meta-item">
                                <i class="fas fa-clock"></i>
                                <span id="routeTime">10:30 AM</span>
                            </div>
                            <div class="route-meta-item">
                                <i class="fas fa-plane-arrival"></i>
                                <span>Flight tracking available</span>
                            </div>
                        </div>
                    </div>

                    <!-- Features -->
                    <h4 class="section-title"><i class="fas fa-check-circle"></i> What's Included</h4>
                    <div class="features-grid" id="featuresGrid">
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Meet & Greet at arrivals</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Flight tracking - we monitor delays</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Free cancellation up to 24h before</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Free WiFi on board</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Complimentary water bottles</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Child seat available on request</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>60 min free waiting time</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check"></i>
                            <span>Door-to-door service</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Provider Card -->
            <div class="provider-card">
                <div class="provider-header">
                    <div class="provider-logo">ðŸš—</div>
                    <div class="provider-details">
                        <h5 id="providerCompany">Kenya Safari Transfers</h5>
                        <p><i class="fas fa-check-circle text-success me-1"></i> Verified Local Partner since 2019</p>
                    </div>
                </div>
                <div class="provider-stats">
                    <div class="stat-item">
                        <div class="value">5,234</div>
                        <div class="label">Trips Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="value">98%</div>
                        <div class="label">On-Time Rate</div>
                    </div>
                    <div class="stat-item">
                        <div class="value">4.9</div>
                        <div class="label">Avg. Rating</div>
                    </div>
                </div>
                <div class="provider-contact">
                    <a href="tel:+254700123456" class="btn btn-outline-primary">
                        <i class="fas fa-phone me-1"></i> Call
                    </a>
                    <a href="https://wa.me/254700123456" class="btn btn-success" target="_blank">
                        <i class="fab fa-whatsapp me-1"></i> WhatsApp
                    </a>
                    <a href="mailto:info@kenyasafaritransfers.com" class="btn btn-outline-secondary">
                        <i class="fas fa-envelope me-1"></i> Email
                    </a>
                </div>
            </div>
        </div>

        <!-- RIGHT COLUMN - BOOKING SIDEBAR -->
        <div class="sidebar">
            <div class="booking-card">
                <div class="booking-header">
                    <h4><i class="fas fa-shuttle-van me-2"></i> Transfer Summary</h4>
                    <p>Review your transfer details</p>
                </div>
                <div class="booking-body">
                    <div class="booking-route">
                        <i class="fas fa-route fa-lg"></i>
                        <div class="booking-route-details">
                            <div class="from" id="summaryPickup">Jomo Kenyatta Airport (NBO)</div>
                            <div class="arrow">â†“</div>
                            <div class="to" id="summaryDropoff">Nairobi CBD</div>
                        </div>
                    </div>

                    <div class="booking-datetime editable-fields">
                        <div class="datetime-item editable" onclick="editField('date')">
                            <div class="label">Date <i class="fas fa-edit edit-icon"></i></div>
                            <div class="value" id="summaryDate">Dec 15, 2025</div>
                            <input type="date" class="edit-input" id="editDate" style="display: none;">
                        </div>
                        <div class="datetime-item editable" onclick="editField('time')">
                            <div class="label">Time <i class="fas fa-edit edit-icon"></i></div>
                            <div class="value" id="summaryTime">10:30 AM</div>
                            <input type="time" class="edit-input" id="editTime" style="display: none;">
                        </div>
                        <div class="datetime-item editable" onclick="editField('passengers')">
                            <div class="label">Passengers <i class="fas fa-edit edit-icon"></i></div>
                            <div class="value" id="summaryPassengers">2</div>
                            <div class="qty-controls" id="editPassengers" style="display: none;">
                                <button type="button" class="qty-btn" onclick="adjustQty('passengers', -1, event)">-</button>
                                <span class="qty-value" id="passengerQty">2</span>
                                <button type="button" class="qty-btn" onclick="adjustQty('passengers', 1, event)">+</button>
                            </div>
                        </div>
                        <div class="datetime-item editable" onclick="editField('luggage')">
                            <div class="label">Luggage <i class="fas fa-edit edit-icon"></i></div>
                            <div class="value" id="summaryLuggage">2 bags</div>
                            <div class="qty-controls" id="editLuggage" style="display: none;">
                                <button type="button" class="qty-btn" onclick="adjustQty('luggage', -1, event)">-</button>
                                <span class="qty-value" id="luggageQty">2</span>
                                <button type="button" class="qty-btn" onclick="adjustQty('luggage', 1, event)">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="price-breakdown">
                        <div class="price-row">
                            <span>Transfer fare</span>
                            <span id="baseFare">$40.00</span>
                        </div>
                        <div class="price-row">
                            <span>Meet & Greet</span>
                            <span>Included</span>
                        </div>
                        <div class="price-row">
                            <span>Platform fee (5%)</span>
                            <span id="platformFee">$2.00</span>
                        </div>
                        <div class="price-row total">
                            <span>Total</span>
                            <span class="amount" id="totalPrice">$45</span>
                        </div>
                    </div>

                    <button class="btn-book" onclick="proceedToBooking()">
                        Continue to Book <i class="fas fa-arrow-right"></i>
                    </button>

                    <div class="booking-note">
                        <i class="fas fa-shield-alt"></i>
                        <span>Free cancellation up to 24 hours before pickup</span>
                    </div>
                </div>
            </div>

            <!-- Why Choose Card -->
            <div class="why-card">
                <h5 class="section-title"><i class="fas fa-star"></i> Why Book with Bridge55</h5>
                <div class="why-item">
                    <i class="fas fa-check-circle"></i>
                    <div>
                        <h6>Verified Local Partners</h6>
                        <p>All drivers are vetted and vehicles inspected</p>
                    </div>
                </div>
                <div class="why-item">
                    <i class="fas fa-wallet"></i>
                    <div>
                        <h6>Secure Payment</h6>
                        <p>Pay with Bridge Wallet, M-Pesa, or card</p>
                    </div>
                </div>
                <div class="why-item">
                    <i class="fas fa-headset"></i>
                    <div>
                        <h6>24/7 Support</h6>
                        <p>We're here to help anytime you need</p>
                    </div>
                </div>
                <div class="why-item">
                    <i class="fas fa-hand-holding-usd"></i>
                    <div>
                        <h6>Best Price Guarantee</h6>
                        <p>No hidden fees, transparent pricing</p>
                    </div>
                </div>
            </div>

            <!-- Operator Details Card - Full Contact -->
            <div class="help-card operator-details-card">
                <h5 class="section-title"><i class="fas fa-building"></i> Operator Details</h5>
                <div class="help-provider">
                    <div class="help-provider-logo">ðŸš—</div>
                    <div class="help-provider-info">
                        <h6 id="helpProviderName">Kenya Safari Transfers</h6>
                        <span class="help-badge"><i class="fas fa-check-circle"></i> Verified Partner</span>
                    </div>
                </div>
                
                <!-- Full Contact Details -->
                <div class="operator-contact-list">
                    <div class="operator-contact-item">
                        <i class="fas fa-phone"></i>
                        <div class="contact-info">
                            <span class="contact-label">Phone</span>
                            <a href="tel:+254700123456" class="contact-value">+254 700 123 456</a>
                        </div>
                    </div>
                    <div class="operator-contact-item">
                        <i class="fab fa-whatsapp"></i>
                        <div class="contact-info">
                            <span class="contact-label">WhatsApp</span>
                            <a href="https://wa.me/254700123456" target="_blank" class="contact-value">+254 700 123 456</a>
                        </div>
                    </div>
                    <div class="operator-contact-item">
                        <i class="fas fa-envelope"></i>
                        <div class="contact-info">
                            <span class="contact-label">Email</span>
                            <a href="mailto:info@kenyasafaritransfers.com" class="contact-value">info@kenyasafaritransfers.com</a>
                        </div>
                    </div>
                    <div class="operator-contact-item">
                        <i class="fas fa-globe"></i>
                        <div class="contact-info">
                            <span class="contact-label">Website</span>
                            <a href="https://kenyasafaritransfers.com" target="_blank" class="contact-value">www.kenyasafaritransfers.com</a>
                        </div>
                    </div>
                    <div class="operator-contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div class="contact-info">
                            <span class="contact-label">Address</span>
                            <span class="contact-value">Moi Avenue, Nairobi, Kenya</span>
                        </div>
                    </div>
                    <div class="operator-contact-item">
                        <i class="fas fa-clock"></i>
                        <div class="contact-info">
                            <span class="contact-label">Support Hours</span>
                            <span class="contact-value">24/7 Available</span>
                        </div>
                    </div>
                </div>
                
                <div class="help-buttons" style="margin-top: 1rem;">
                    <a href="tel:+254700123456" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-phone me-1"></i> Call Now
                    </a>
                    <a href="https://wa.me/254700123456" class="btn btn-success btn-sm" target="_blank">
                        <i class="fab fa-whatsapp me-1"></i> WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            applyCountryBranding();
            loadTransferDetails();
        });

        function applyCountryBranding() {
            const savedCountry = localStorage.getItem('bridge55_country') || localStorage.getItem('bridge55-country') || 'pan-african';
            document.documentElement.setAttribute('data-country', savedCountry);
        }

        function loadTransferDetails() {
            const transferData = sessionStorage.getItem('selectedTransfer');
            if (transferData) {
                const data = JSON.parse(transferData);
                
                // Update vehicle info
                $('#vehicleName').text(data.vehicle || 'Comfort SUV');
                $('#breadcrumbVehicle').text(data.vehicle || 'Comfort SUV');
                $('#providerName').text(data.provider || 'Kenya Safari Transfers');
                $('#providerCompany').text(data.provider || 'Kenya Safari Transfers');
                $('#ratingScore').text(data.rating || '4.9');
                
                // Update route
                $('#routePickup, #summaryPickup').text(data.pickup || 'Jomo Kenyatta Airport (NBO)');
                $('#routeDropoff, #summaryDropoff').text(data.dropoff || 'Nairobi CBD');
                $('#routeDate, #summaryDate').text(data.date || 'Dec 15, 2025');
                $('#routeTime, #summaryTime').text(data.time || '10:30 AM');
                
                // Update pricing
                const price = parseFloat(data.price) || 45;
                const platformFee = (price * 0.05).toFixed(2);
                const baseFare = (price - parseFloat(platformFee)).toFixed(2);
                
                $('#baseFare').text('$' + baseFare);
                $('#platformFee').text('$' + platformFee);
                $('#totalPrice').text('$' + price);
                
                // Update image if available
                if (data.image) {
                    $('#vehicleImage').attr('src', data.image);
                }
                
                // Update vehicle type badge
                const typeLabels = {
                    'sedan': 'Sedan',
                    'suv': 'SUV',
                    'van': 'Van',
                    'luxury': 'Luxury'
                };
                $('#vehicleType').text(typeLabels[data.type] || 'SUV');
            }
        }

        // Track current values
        var currentPassengers = 2;
        var currentLuggage = 2;
        var activeEditField = null;

        function editField(fieldType) {
            // Don't re-trigger if clicking on the same field's controls
            if (activeEditField === fieldType) return;
            
            // Close any open edit field
            closeAllEdits();
            
            const item = event.currentTarget;
            const valueDiv = item.querySelector('.value');
            
            switch(fieldType) {
                case 'date':
                    const dateInput = document.getElementById('editDate');
                    valueDiv.style.display = 'none';
                    dateInput.style.display = 'block';
                    // Set current value
                    const currentDate = $('#summaryDate').text();
                    dateInput.valueAsDate = new Date(currentDate);
                    dateInput.focus();
                    dateInput.onchange = function() {
                        const newDate = new Date(this.value);
                        const formatted = newDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                        $('#summaryDate').text(formatted);
                        updateTransferData('date', formatted);
                        closeAllEdits();
                    };
                    break;
                    
                case 'time':
                    const timeInput = document.getElementById('editTime');
                    valueDiv.style.display = 'none';
                    timeInput.style.display = 'block';
                    timeInput.focus();
                    timeInput.onchange = function() {
                        const [hours, mins] = this.value.split(':');
                        const h = parseInt(hours);
                        const ampm = h >= 12 ? 'PM' : 'AM';
                        const hour12 = h % 12 || 12;
                        const formatted = `${hour12}:${mins} ${ampm}`;
                        $('#summaryTime').text(formatted);
                        updateTransferData('time', formatted);
                        closeAllEdits();
                    };
                    break;
                    
                case 'passengers':
                    valueDiv.style.display = 'none';
                    document.getElementById('editPassengers').style.display = 'flex';
                    document.getElementById('passengerQty').textContent = currentPassengers;
                    break;
                    
                case 'luggage':
                    valueDiv.style.display = 'none';
                    document.getElementById('editLuggage').style.display = 'flex';
                    document.getElementById('luggageQty').textContent = currentLuggage;
                    break;
            }
            
            item.classList.add('editing');
            activeEditField = fieldType;
            event.stopPropagation();
        }

        function adjustQty(type, delta, event) {
            event.stopPropagation();
            
            if (type === 'passengers') {
                currentPassengers = Math.max(1, Math.min(8, currentPassengers + delta));
                document.getElementById('passengerQty').textContent = currentPassengers;
                $('#summaryPassengers').text(currentPassengers);
                updateTransferData('passengers', currentPassengers);
            } else {
                currentLuggage = Math.max(0, Math.min(10, currentLuggage + delta));
                document.getElementById('luggageQty').textContent = currentLuggage;
                $('#summaryLuggage').text(currentLuggage + ' bag' + (currentLuggage !== 1 ? 's' : ''));
                updateTransferData('luggage', currentLuggage);
            }
        }

        function closeAllEdits() {
            // Hide all edit controls
            $('#editDate, #editTime').hide();
            $('#editPassengers, #editLuggage').hide();
            
            // Show all value displays
            $('.datetime-item .value').show();
            
            // Remove editing class
            $('.datetime-item').removeClass('editing');
            
            activeEditField = null;
        }

        function updateTransferData(field, value) {
            const transferData = JSON.parse(sessionStorage.getItem('selectedTransfer') || '{}');
            transferData[field] = value;
            sessionStorage.setItem('selectedTransfer', JSON.stringify(transferData));
            console.log('Updated transfer data:', field, '=', value);
        }

        // Close edits when clicking outside
        $(document).on('click', function(e) {
            if (!$(e.target).closest('.datetime-item.editing').length && !$(e.target).closest('.qty-btn').length) {
                closeAllEdits();
            }
        });

        function proceedToBooking() {
            // Get current data
            const transferData = sessionStorage.getItem('selectedTransfer');
            if (transferData) {
                const data = JSON.parse(transferData);
                // Add additional details
                data.totalPrice = $('#totalPrice').text().replace('$', '');
                data.platformFee = $('#platformFee').text().replace('$', '');
                data.passengers = currentPassengers;
                data.luggage = currentLuggage;
                data.date = $('#summaryDate').text();
                data.time = $('#summaryTime').text();
                sessionStorage.setItem('selectedTransfer', JSON.stringify(data));
            }
            
            window.location.href = 'booking.html';
        }

        // Initialize values from stored data
        function initEditableValues() {
            const transferData = JSON.parse(sessionStorage.getItem('selectedTransfer') || '{}');
            if (transferData.passengers) currentPassengers = parseInt(transferData.passengers) || 2;
            if (transferData.luggage) currentLuggage = parseInt(transferData.luggage) || 2;
        }
        
        $(document).ready(function() {
            initEditableValues();
        });
    </script>
</body>
</html>


